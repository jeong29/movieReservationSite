package com.spring.service;

import java.util.List;

import org.mybatis.spring.SqlSessionTemplate;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.spring.service.vo.GenreVO;
import com.spring.service.vo.MovieVO;
import com.spring.service.vo.RatingVO;
import com.spring.service.vo.ReplyVO;
import com.spring.service.vo.ScoreVO;

@Service("movieService")
public class MovieServiceImpl implements MovieService{
	@Autowired
	private SqlSessionTemplate sqlSession;

	@Override
	public List<MovieVO> selectMovieList() {
		return sqlSession.selectList("selectMovieList", null);
	}

	@Override
	public int insertMovie(MovieVO movieVO) {
		return sqlSession.insert("insertMovie", movieVO);
	}
	
	//@Transactional(rollbackFor = Exception.class)
	@Override
	public MovieVO selectMovieDetail(MovieVO movieVO) {
		return sqlSession.selectOne("selectMovieDetail", movieVO);
	}

	@Override
	public List<GenreVO> selectGenreList() {
		return sqlSession.selectList("selectGenreList", null);
	}

	@Override
	public List<RatingVO> selectRatingList() {
		return sqlSession.selectList("selectRatingList", null);
	}

	@Override
	public int insertReply(ReplyVO replyVO) {
		return sqlSession.insert("insertReply", replyVO);
	}

	@Override
	public List<ReplyVO> selectReplyList(ReplyVO replyVO) {
		return sqlSession.selectList("selectReplyList", replyVO);
	}

	@Override
	public List<ScoreVO> selectScoreList() {
		return sqlSession.selectList("selectScoreList", null);
	}
}
